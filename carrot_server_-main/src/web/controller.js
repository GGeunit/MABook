// exports.home = (req, res) => {
//   res.json('애플리케이션 소개');
// }
// exports.page = (req, res) => {
//   const route = req.params.route;
//   let data;

//   if (route == 'policy') {
//     data = termsAndPolicy.policy;
//   } else if (route == 'terms') {
//     data = termsAndPolicy.terms;
//   } else {
//     return res.status(404).json({ error: 'Not Found' }); 
//   }

//   res.setHeader('Content-Type', 'application/json'); 
//   res.send(JSON.stringify(data, null, 2));
// }

// const termsAndPolicy = {
//   "terms": {
//     "title": "이용 약관",
//     "content": "이용 약관 내용을 여기에 작성합니다...",
//     "sections": [
//       {
//         "title": "제 1 조 (목적)",
//         "content": "이 약관은 MABook(이하 '회사'라 합니다)이 제공하는 모든 서비스의 이용과 관련하여 회사와 회원의 권리, 의무 및 책임사항 등을 규정함을 목적으로 합니다."
//       },
//       {
//         "title": "제 2 조 (정의)",
//         "content": "이 약관에서 사용하는 용어의 정의는 다음과 같습니다. \n1. '서비스'라 함은 회사가 제공하는 모든 서비스를 의미합니다. \n2. '회원'이라 함은 이 약관에 동의하고 서비스 이용 자격을 부여 받은 자를 의미합니다. \n3. '아이디'라 함은 회원의 식별과 서비스 이용을 위하여 회원이 설정하고 회사가 승인한 문자와 숫자의 조합을 의미합니다."
//       },
//       {
//         "title": "제 3 조 (약관의 게시와 개정)",
//         "content": "회사는 이 약관의 내용을 회원이 쉽게 알 수 있도록 서비스 초기 화면에 게시합니다. 회사는 약관의 규제에 관한 법률, 정보통신망 이용촉진 및 정보보호 등에 관한 법률 등 관련 법을 위배하지 않는 범위에서 이 약관을 개정할 수 있습니다. 개정된 약관은 적용일자와 개정사유를 명시하여 현행 약관과 함께 그 적용일자 7일 전부터 적용일자 전일까지 공지합니다."
//       },
//       {
//         "title": "제 4 조 (서비스의 제공 및 변경)",
//         "content": "회사는 다음과 같은 서비스를 제공합니다: \n1. 가계부 작성 및 관리 서비스 \n2. 금융 데이터 분석 및 리포트 제공 \n3. 기타 회사가 추가 개발하거나 다른 회사와의 제휴 계약 등을 통해 회원에게 제공하는 일체의 서비스"
//       },
//       {
//         "title": "제 5 조 (서비스의 중단)",
//         "content": "회사는 컴퓨터 등 정보통신설비의 보수점검, 교체 및 고장, 통신의 두절 등의 사유가 발생한 경우에는 서비스의 제공을 일시적으로 중단할 수 있습니다. 이 경우 회사는 사전에 회원에게 공지하며, 사전 공지가 불가능한 경우 사후에 공지합니다."
//       },
//       {
//         "title": "제 6 조 (회원 가입)",
//         "content": "회원이 되고자 하는 자는 회사가 정한 가입 양식에 따라 회원정보를 기입한 후 이 약관에 동의한다는 의사표시를 함으로써 회원 가입을 신청합니다. 회사는 이를 승낙하여 회원 가입 절차가 완료됩니다."
//       },
//       {
//         "title": "제 7 조 (회원 탈퇴 및 자격 상실 등)",
//         "content": "회원은 언제든지 탈퇴를 요청할 수 있으며, 회사는 즉시 회원 탈퇴를 처리합니다. 회원이 다음 각 호의 사유에 해당하는 경우, 회사는 회원 자격을 제한 및 정지시킬 수 있습니다: \n1. 가입 신청 시 허위 내용을 등록한 경우 \n2. 법령이나 약관이 금지하는 행위를 한 경우"
//       },
//       {
//         "title": "제 8 조 (회원에 대한 통지)",
//         "content": "회사가 회원에 대한 통지를 하는 경우, 회원이 제공한 이메일 주소로 할 수 있습니다. 회사는 불특정 다수 회원에 대한 통지의 경우 서비스 게시판에 게시함으로써 개별 통지에 갈음할 수 있습니다."
//       },
//       {
//         "title": "제 9 조 (서비스의 이용 제한)",
//         "content": "회사는 회원이 다음 각 호의 사유에 해당하는 경우, 서비스 이용을 제한하거나 중지할 수 있습니다: \n1. 공공질서 및 미풍양속에 반하는 경우 \n2. 범죄적 행위에 관련되는 경우 \n3. 타인의 명예를 손상시키거나 불이익을 주는 경우"
//       },
//       {
//         "title": "제 10 조 (책임 제한)",
//         "content": "회사는 천재지변, 전쟁, 기간 통신사업자의 서비스 중지 등 불가항력으로 인하여 서비스를 제공할 수 없는 경우, 서비스 제공에 대한 책임이 면제됩니다. 회사는 회원의 귀책사유로 인한 서비스 이용의 장애에 대하여 책임을 지지 않습니다."
//       }
//     ]
//   },
//   "policy": {
//     "title": "개인정보 처리방침",
//     "content": "개인정보 처리방침 내용을 여기에 작성합니다...",
//     "sections": [
//       {
//         "title": "제 1 조 (개인정보의 처리 목적)",
//         "content": "회사는 개인정보를 다음의 목적을 위해 처리합니다. 처리한 개인정보는 다음의 목적 이외의 용도로는 사용되지 않으며, 이용 목적이 변경될 시에는 사전 동의를 구할 예정입니다.\n1. 회원 가입 및 관리: 회원 가입의사 확인, 회원제 서비스 제공에 따른 본인 식별·인증, 회원자격 유지·관리, 서비스 부정이용 방지 등을 목적으로 개인정보를 처리합니다.\n2. 민원 처리: 민원인의 신원 확인, 민원사항 확인, 사실조사를 위한 연락·통지, 처리결과 통보 등을 목적으로 개인정보를 처리합니다."
//       },
//       {
//         "title": "제 2 조 (개인정보의 처리 및 보유 기간)",
//         "content": "① 회사는 법령에 따른 개인정보 보유·이용기간 또는 정보주체로부터 개인정보를 수집 시에 동의 받은 개인정보 보유·이용기간 내에서 개인정보를 처리·보유합니다.\n② 각각의 개인정보 처리 및 보유 기간은 다음과 같습니다.\n1. 회원 가입 및 관리: 회원 탈퇴 시까지\n2. 민원 처리: 민원 처리 완료 후 3년"
//       },
//       {
//         "title": "제 3 조 (개인정보의 제3자 제공)",
//         "content": "① 회사는 정보주체의 개인정보를 제1조(개인정보의 처리 목적)에서 명시한 범위 내에서만 처리하며, 정보주체의 동의, 법률의 특별한 규정 등 개인정보 보호법 제17조 및 제18조에 해당하는 경우에만 개인정보를 제3자에게 제공합니다.\n② 회사는 다음과 같이 개인정보를 제3자에게 제공하고 있습니다. \n1. 제공받는 자: 제휴 금융기관\n2. 제공받는 자의 개인정보 이용목적: 금융 서비스 제공\n3. 제공하는 개인정보 항목: 성명, 계좌번호\n4. 제공받는 자의 개인정보 보유 및 이용기간: 회원 탈퇴 시까지"
//       },
//       {
//         "title": "제 4 조 (정보주체의 권리, 의무 및 그 행사방법)",
//         "content": "정보주체는 회사에 대해 언제든지 다음 각 호의 개인정보 보호 관련 권리를 행사할 수 있습니다. \n1. 개인정보 열람요구 \n2. 오류 등이 있을 경우 정정 요구 \n3. 삭제요구 \n4. 처리정지 요구"
//       },
//       {
//         "title": "제 5 조 (개인정보의 안전성 확보 조치)",
//         "content": "회사는 개인정보의 안전성 확보를 위해 다음과 같은 조치를 취하고 있습니다: \n1. 관리적 조치: 내부관리계획 수립 및 시행, 정기적 직원 교육 등 \n2. 기술적 조치: 개인정보처리시스템 등의 접근권한 관리, 접근통제시스템 설치, 고유식별정보 등의 암호화 \n3. 물리적 조치: 전산실, 자료보관실 등의 접근통제"
//       },
//       {
//         "title": "제 6 조 (개인정보 보호 책임자)",
//         "content": "회사는 개인정보 처리에 관한 업무를 총괄해서 책임지고, 개인정보 처리와 관련한 정보주체의 불만처리 및 피해구제 등을 위하여 아래와 같이 개인정보 보호 책임자를 지정하고 있습니다. \n1. 개인정보 보호 책임자: 홍길동 \n2. 연락처: privacy@company.com, 02-1234-5678"
//       },
//       {
//         "title": "제 7 조 (개인정보 처리방침 변경)",
//         "content": "이 개인정보 처리방침은 시행일로부터 적용되며, 법령 및 방침에 따른 변경내용의 추가, 삭제 및 정정이 있는 경우에는 변경사항의 시행 7일 전부터 공지사항을 통하여 고지할 것입니다."
//       }
//     ]
//   }
// };

const termsAndPolicy = require('./termsAndPolicy'); // JSON 파일 불러오기

exports.home = (req, res) => {
  res.send('Welcome to the Home Page!');
};

exports.page = (req, res) => {
  const route = req.params.route;
  let data;

  if (route === 'policy') {
    data = termsAndPolicy.policy;
  } else if (route === 'terms') {
    data = termsAndPolicy.terms;
  } else {
    return res.status(404).json({ error: 'Not Found' });
  }

  res.render('page', { data });
};